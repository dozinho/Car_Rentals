<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://xamarin.com/schemas/2014/forms"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:d="http://xamarin.com/schemas/2014/forms/design"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             mc:Ignorable="d"
             x:Class="Car_Rentals.Views.CarDetailPage"
             Title="{Binding Title}"
             BackgroundColor="#FAFAFA">

    <ContentPage.Content>
        <ScrollView>
          <StackLayout Spacing="0">
            <!-- Car Image -->
            <Frame BackgroundColor="White" HasShadow="False" Padding="0" HeightRequest="220">
                <Image Source="{Binding Car.PhotoName}" Aspect="AspectFit" VerticalOptions="Center"/>
            </Frame>

            <!-- Car Name -->
                <Label Text="{Binding Car.Brand}" FontSize="20" FontAttributes="Bold" HorizontalOptions="Center" Margin="0,10,0,0"/>

            <!-- Highlights -->
                <!-- Highlights -->
                <Grid ColumnSpacing="10" RowSpacing="10" Padding="20"
      ColumnDefinitions="*,*,*" RowDefinitions="Auto,Auto">

                    <Frame Grid.Column="0" Grid.Row="0" BackgroundColor="#F8F9FB" CornerRadius="15" Padding="10">
                        <StackLayout Spacing="3" HorizontalOptions="Center">
                            <Image Source="range_icon.png" HeightRequest="24"/>
                            <Label Text="{Binding Car.Model}" FontSize="12" TextColor="Black"/>
                            <Label Text="Range" FontSize="10" TextColor="Gray"/>
                        </StackLayout>
                    </Frame>

                    <Frame Grid.Column="1" Grid.Row="0" BackgroundColor="#F8F9FB" CornerRadius="15" Padding="10">
                        <StackLayout Spacing="3" HorizontalOptions="Center">
                            <Image Source="speed_icon.png" HeightRequest="24"/>
                            <Label Text="{Binding Car.Speed}" FontSize="12" TextColor="Black"/>
                            <Label Text="Speed" FontSize="10" TextColor="Gray"/>
                        </StackLayout>
                    </Frame>

                    <Frame Grid.Column="2" Grid.Row="0" BackgroundColor="#F8F9FB" CornerRadius="15" Padding="10">
                        <StackLayout Spacing="3" HorizontalOptions="Center">
                            <Image Source="seat_icon.png" HeightRequest="24"/>
                            <Label Text="{Binding Car.Seats}" FontSize="12" TextColor="Black"/>
                            <Label Text="Capacity" FontSize="10" TextColor="Gray"/>
                        </StackLayout>
                    </Frame>

                    <Frame Grid.Column="0" Grid.Row="1" BackgroundColor="#F8F9FB" CornerRadius="15" Padding="10">
                        <StackLayout Spacing="3" HorizontalOptions="Center">
                            <Image Source="gear_icon.png" HeightRequest="24"/>
                            <Label Text="{Binding Car.Mileage}" FontSize="12" TextColor="Black"/>
                            <Label Text="Gear" FontSize="10" TextColor="Gray"/>
                        </StackLayout>
                    </Frame>

                    <Frame Grid.Column="1" Grid.Row="1" BackgroundColor="#F8F9FB" CornerRadius="15" Padding="10">
                        <StackLayout Spacing="3" HorizontalOptions="Center">
                            <Image Source="engine_icon.png" HeightRequest="24"/>
                            <Label Text="{Binding Car.Category}" FontSize="12" TextColor="Black"/>
                            <Label Text="Engine" FontSize="10" TextColor="Gray"/>
                        </StackLayout>
                    </Frame>

                    <Frame Grid.Column="2" Grid.Row="1" BackgroundColor="#F8F9FB" CornerRadius="15" Padding="10">
                        <StackLayout Spacing="3" HorizontalOptions="Center">
                            <Image Source="wheel.png" HeightRequest="24"/>
                            <Label Text="{Binding Car.Mileage}" FontSize="12" TextColor="Black"/>
                            <Label Text="Drive" FontSize="10" TextColor="Gray"/>
                        </StackLayout>
                    </Frame>

                </Grid>


                <Label Text="{Binding Car.Description}" FontSize="14" TextColor="Gray" HorizontalTextAlignment="Center" Margin="10,5"/>
                  
            

            
                <!-- Rental Form -->
                <Frame BackgroundColor="White" Padding="15" HasShadow="True">
                    <StackLayout Spacing="15">
                        <Label Text="Rental Details" FontSize="18" FontAttributes="Bold"/>

                        <Grid ColumnDefinitions="*,*" RowDefinitions="Auto,Auto,Auto,Auto" ColumnSpacing="10">
                            <Label Text="Pickup Date:" Grid.Row="0" Grid.Column="0" FontAttributes="Bold"/>
                            <DatePicker Date="{Binding PickupDate}" Grid.Row="0" Grid.Column="1"/>

                            <Label Text="Return Date:" Grid.Row="1" Grid.Column="0" FontAttributes="Bold"/>
                            <DatePicker Date="{Binding ReturnDate}" Grid.Row="1" Grid.Column="1"/>

                            <Label Text="Pickup Location:" Grid.Row="2" Grid.Column="0" FontAttributes="Bold"/>
                            <Entry Text="{Binding PickupLocation}" Grid.Row="2" Grid.Column="1"/>

                            <Label Text="Return Location:" Grid.Row="3" Grid.Column="0" FontAttributes="Bold"/>
                            <Entry Text="{Binding ReturnLocation}" Grid.Row="3" Grid.Column="1"/>
                        </Grid>

                        <!-- Total Cost -->
                        <StackLayout Orientation="Horizontal" Margin="0,10,0,0">
                            <Label Text="Total Cost:" FontSize="16" FontAttributes="Bold"/>
                            <Label Text=" " HorizontalOptions="FillAndExpand"/>
                            <Label Text="{Binding TotalCost, StringFormat='${0:F2}'}" 
                                       FontSize="18" FontAttributes="Bold" 
                                       TextColor="{StaticResource Primary}"/>
                        </StackLayout>
                    </StackLayout>
                </Frame>

                <!-- Action Buttons -->
                <StackLayout Orientation="Horizontal" Spacing="10">
                    <Button Text="Add to Favorites" 
                                Command="{Binding AddToFavoritesCommand}"
                                BackgroundColor="Gray"
                                TextColor="White"
                                HorizontalOptions="FillAndExpand"
                                HeightRequest="50"/>

                    <Button Text="Rent Now" 
                                Command="{Binding RentCarCommand}"
                                IsEnabled="{Binding IsNotBusy}"
                                BackgroundColor="{StaticResource Primary}"
                                TextColor="White"
                                HorizontalOptions="FillAndExpand"
                                HeightRequest="50"/>
                </StackLayout>
                <!-- Bottom button and price -->
            <!--Grid ColumnDefinitions="*,Auto" Padding="20,10">
                <Button Text="GO" BackgroundColor="#1E2C5A" TextColor="White"
                        FontAttributes="Bold" CornerRadius="25" HeightRequest="50"/>
                <Label Text="{Binding Car.PricePerDay, StringFormat='${0}/day'}" 
                       FontSize="20" FontAttributes="Bold" VerticalOptions="Center" Margin="10,0,0,0"/>
            </Grid-->
        </StackLayout>
        </ScrollView>
    </ContentPage.Content>
</ContentPage> 